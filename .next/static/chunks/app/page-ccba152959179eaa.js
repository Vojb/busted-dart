(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{162:(e,t,s)=>{Promise.resolve().then(s.bind(s,7496))},7496:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eF});var a=s(5155),r=s(2115),l=s(2442),i=s(8460),n=s(9722),o=s(622);function d(...e){return(0,o.QP)((0,n.$)(e))}let c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function u({className:e,variant:t,size:s,asChild:r=!1,...i}){let n=r?l.DX:"button";return(0,a.jsx)(n,{"data-slot":"button",className:d(c({variant:t,size:s,className:e})),...i})}function m({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:d("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function x({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:d("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function h({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:d("leading-none font-semibold",e),...t})}function f({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-description",className:d("text-muted-foreground text-sm",e),...t})}function p({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:d("px-6",e),...t})}let g=[20,1,18,4,13,6,10,15,2,17,3,19,7,16,8,11,14,9,12,5];function v(e){let t=g.indexOf(e);if(-1===t)return[];let s=(t-1+g.length)%g.length,a=(t+1)%g.length;return[g[s],g[a]]}function b(e,t){return!(e<=0)&&!(e>170)&&1!==e&&(3===t?e<=170:2===t?e<=110:1===t&&e<=50&&e%2==0)}function j(e="medium"){let t,s,a=[];switch(e){case"easy":t=2,s=40;break;case"medium":t=41,s=120;break;case"hard":t=121,s=170;break;default:t=2,s=170}for(let e=t;e<=s;e++)b(e,3)&&1!==e&&a.push(e);if(0===a.length)for(let e=2;e<=170;e++)b(e,3)&&1!==e&&a.push(e);return a[Math.floor(Math.random()*a.length)]}let N=(e,t=2)=>Math.round(e*Math.pow(10,t))/Math.pow(10,t);function y({onSelectTarget:e,onHoverTarget:t,disabled:s,size:l=100,tripleInnerRadius:i=80,tripleOuterRadius:n=95}){let[o,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),[x,h]=(0,r.useState)(!1),f=(0,r.useRef)(null),p=(0,r.useRef)(0),v=(0,r.useRef)(!1),b=(0,r.useRef)(!1);(0,r.useEffect)(()=>{d(!0)},[]);let j=(t,a)=>{if(s)return;let r="T"===t?3*a:"D"===t?2*a:a;e({zone:t,number:a,label:`${t}${a}`,value:r})},y=t=>{s||(t?e({zone:"BULL",number:50,label:"Bull",value:50}):e({zone:"OUTER_BULL",number:25,label:"25",value:25}))},D=g.map((e,t)=>{let s=t%2==0;return{number:e,angle:18*t-9,segmentAngle:18,singleColor:s?"#1a1a1a":"#f5f5dc",doubleTripleColor:s?"#dc2626":"#16a34a"}}),w=(e,t,s,a)=>{let r=z(170,170,t,a),l=z(170,170,t,s),i=z(170,170,e,a),n=z(170,170,e,s),o=a-s<=180?"0":"1";return`M ${N(r.x)} ${N(r.y)} A ${t} ${t} 0 ${o} 0 ${N(l.x)} ${N(l.y)} L ${N(n.x)} ${N(n.y)} A ${e} ${e} 0 ${o} 1 ${N(i.x)} ${N(i.y)} Z`},z=(e,t,s,a)=>{let r=(a-90)*Math.PI/180;return{x:N(e+s*Math.cos(r)),y:N(t+s*Math.sin(r))}},T=(e,t)=>{if(!f.current)return null;let s=f.current,a=s.getBoundingClientRect(),r=s.viewBox.baseVal;return{x:(e-a.left)/a.width*r.width,y:(t-a.top)/a.height*r.height}},S=(e,t)=>{let s=e-170,a=t-170,r=Math.sqrt(s*s+a*a),l=180*Math.atan2(a,s)/Math.PI+90;if(r<=10)return{zone:"BULL",number:50,label:"Bull",value:50};if(r<=20)return{zone:"OUTER_BULL",number:25,label:"25",value:25};let o=Math.floor(((l<0?l+360:l)+9)/18);o>=20&&(o=0);let d=g[o];return r>=130&&r<=145?{zone:"D",number:d,label:`D${d}`,value:2*d}:r>=i&&r<=n?{zone:"T",number:d,label:`T${d}`,value:3*d}:r>20&&r<145?{zone:"S",number:d,label:`S${d}`,value:d}:null},k=o?l:100,A=N(450*k/100);return(0,a.jsx)(m,{className:"p-4 sm:p-6 flex items-center justify-center",children:(0,a.jsxs)("svg",{ref:f,viewBox:"0 0 340 340",className:"w-full max-w-[550px] touch-none select-none",style:{filter:s?"opacity(0.5)":"none",width:`${k}%`,maxWidth:`${A}px`},onTouchStart:e=>{if(s)return;let a=e.touches[0];if(!a)return;p.current=Date.now(),v.current=!1,b.current=!1;let r=T(a.clientX,a.clientY);if(r){h(!0),u(r);let e=r.y-25,s=S(r.x,e);s&&t&&t(s)}},onTouchMove:e=>{if(s)return;e.preventDefault(),v.current=!0;let a=e.touches[0];if(!a)return;let r=T(a.clientX,a.clientY);if(r){x||h(!0),u(r);let e=r.y-25,s=S(r.x,e);s&&t?t(s):t&&t(null)}},onTouchEnd:a=>{if(s)return;let r=Date.now()-p.current;if(v.current||x&&r>100){if(a.preventDefault(),b.current=!0,c){let t=c.y-25,s=S(c.x,t);s&&e(s)}setTimeout(()=>{b.current=!1},100)}else b.current=!1;h(!1),u(null),t&&t(null)},onTouchCancel:()=>{h(!1),u(null),v.current=!1,b.current=!1,t&&t(null)},children:[D.map(({number:e,angle:r,segmentAngle:l,singleColor:o,doubleTripleColor:d})=>{let c,u=r+l,m={x:(c=z(170,170,160,r+l/2)).x,y:c.y};return(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:w(130,145,r,u),fill:d,stroke:"#000",strokeWidth:"0.5",className:"cursor-pointer",onClick:()=>j("D",e),onMouseEnter:()=>{if(t&&!s){let s=2*e;t({zone:"D",number:e,label:`D${e}`,value:s})}},onMouseLeave:()=>{t&&t(null)}}),(0,a.jsx)("path",{d:w(n,130,r,u),fill:o,stroke:"#000",strokeWidth:"0.5",className:"cursor-pointer",onClick:()=>j("S",e),onMouseEnter:()=>{t&&!s&&t({zone:"S",number:e,label:`S${e}`,value:e})},onMouseLeave:()=>{t&&t(null)}}),(0,a.jsx)("path",{d:w(i,n,r,u),fill:d,stroke:"#000",strokeWidth:"0.5",className:"cursor-pointer",onClick:()=>j("T",e),onMouseEnter:()=>{if(t&&!s){let s=3*e;t({zone:"T",number:e,label:`T${e}`,value:s})}},onMouseLeave:()=>{t&&t(null)}}),(0,a.jsx)("path",{d:w(20,i,r,u),fill:o,stroke:"#000",strokeWidth:"0.5",className:"cursor-pointer",onClick:()=>j("S",e),onMouseEnter:()=>{t&&!s&&t({zone:"S",number:e,label:`S${e}`,value:e})},onMouseLeave:()=>{t&&t(null)}}),(0,a.jsx)("text",{x:m.x,y:m.y,textAnchor:"middle",dominantBaseline:"middle",className:"text-xs sm:text-sm font-bold fill-foreground pointer-events-none",children:e})]},e)}),(0,a.jsx)("circle",{cx:"170",cy:"170",r:"20",fill:"#16a34a",stroke:"#000",strokeWidth:"0.5",className:"cursor-pointer",onClick:()=>y(!1),onMouseEnter:()=>{t&&!s&&t({zone:"OUTER_BULL",number:25,label:"25",value:25})},onMouseLeave:()=>{t&&t(null)}}),(0,a.jsx)("circle",{cx:"170",cy:"170",r:"10",fill:"#dc2626",stroke:"#000",strokeWidth:"0.5",className:"cursor-pointer",onClick:()=>y(!0),onMouseEnter:()=>{t&&!s&&t({zone:"BULL",number:50,label:"Bull",value:50})},onMouseLeave:()=>{t&&t(null)}}),x&&c&&(0,a.jsxs)("g",{style:{pointerEvents:"none"},children:[(0,a.jsx)("circle",{cx:c.x,cy:c.y-25,r:"6",fill:"#ffff00",opacity:"0.4"}),(0,a.jsx)("circle",{cx:c.x,cy:c.y-25,r:"5",fill:"#ffff00",stroke:"#000000",strokeWidth:"1.5"}),(0,a.jsx)("circle",{cx:c.x,cy:c.y-25,r:"2.5",fill:"#ffffff",opacity:"0.8"})]})]})})}var D=s(2508);function w({currentScore:e,startingScore:t,dartsThrown:s}){return(0,a.jsx)(m,{className:"p-3 sm:p-4",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,a.jsx)("div",{className:"text-4xl sm:text-5xl md:text-6xl font-bold tracking-tight",children:e}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-xs sm:text-sm text-muted-foreground",children:[(0,a.jsx)(D.A,{className:"size-3 sm:size-4"}),(0,a.jsxs)("span",{children:["Started ",t]})]})]})})}let z=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function T({className:e,variant:t,asChild:s=!1,...r}){let i=s?l.DX:"span";return(0,a.jsx)(i,{"data-slot":"badge",className:d(z({variant:t}),e),...r})}function S({darts:e,dartsThrown:t,hoveredTarget:s}){let r=3*Math.floor((t-1)/3),l=e.slice(r,r+3),i=t%3;return(0,a.jsx)(m,{className:"p-2 sm:p-3",children:(0,a.jsx)("div",{className:"grid grid-cols-3 gap-1.5 sm:gap-2",children:[0,1,2].map(e=>{let t=l[e],r=!t,n=s&&e===i&&r;return(0,a.jsxs)("div",{className:`flex flex-col items-center justify-center gap-1 p-1.5 sm:p-2 rounded-md border-2 transition-colors min-h-[100px] sm:min-h-[120px] ${n?"border-primary border-solid bg-primary/20":r?"border-dashed border-muted bg-muted/20":t?.wasAccurate?"border-primary bg-primary/5":"border-red-500 bg-red-500/5"}`,children:[(0,a.jsxs)("div",{className:"text-[8px] sm:text-[10px] font-medium text-muted-foreground",children:["Dart ",e+1]}),t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold",children:t.score}),(0,a.jsx)(T,{variant:t.wasAccurate?"default":"secondary",className:"text-[10px] sm:text-xs",children:t.hit.label})]}):n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:s.label}),(0,a.jsx)("div",{className:"text-lg sm:text-xl font-semibold text-muted-foreground",children:s.value})]}):(0,a.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-muted-foreground/30",children:"-"})]},e)})})})}var k=s(9885);function A({className:e,value:t,...s}){return(0,a.jsx)(k.bL,{"data-slot":"progress",className:d("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...s,children:(0,a.jsx)(k.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}var L=s(9123),R=s(1951),$=s(718),M=s(4928),B=s(4071),C=s(7514),O=s(7420);let _="darts_training_progress",F="darts_training_settings";function U(){try{let e=localStorage.getItem(_);if(!e)return H();let t=JSON.parse(e);return{...H(),...t}}catch{return H()}}function I(e){try{localStorage.setItem(_,JSON.stringify(e))}catch(e){console.error("Failed to save progress:",e)}}function E(){try{let e=localStorage.getItem(F);if(!e)return G();let t=JSON.parse(e),s=G();return{...s,...t,difficulty:t.difficulty||s.difficulty,tripleInnerRadius:t.tripleInnerRadius??s.tripleInnerRadius,tripleOuterRadius:t.tripleOuterRadius??s.tripleOuterRadius}}catch{return G()}}function W(e){try{localStorage.setItem(F,JSON.stringify(e))}catch(e){console.error("Failed to save settings:",e)}}function H(){return{totalGames:0,totalWins:0,totalDarts:0,totalAccurateHits:0,totalOptimalDecisions:0,totalDecisions:0,sessions:[],gamesWith3Darts:0,currentStreak:0,personalBests:{fewestDarts:null,bestAccuracy:null,bestDecisionRate:null}}}function G(){return{triple:65,double:65,single:85,dartboardSize:100,difficulty:"medium",tripleInnerRadius:80,tripleOuterRadius:95}}function V({progress:e}){let t=function(){let e=U().sessions.slice(-20);if(0===e.length)return{accuracyTrend:0,decisionTrend:0,isImproving:!1};let t=Math.floor(e.length/2),s=e.slice(0,t),a=e.slice(t),r=s.reduce((e,t)=>e+t.accuracy,0)/s.length,l=a.reduce((e,t)=>e+t.accuracy,0)/a.length,i=s.reduce((e,t)=>e+t.optimalDecisionRate,0)/s.length,n=a.reduce((e,t)=>e+t.optimalDecisionRate,0)/a.length;return{accuracyTrend:l-r,decisionTrend:n-i,isImproving:l>r||n>i}}(),s=e.totalGames>0?e.totalWins/e.totalGames*100:0,r=e.totalDarts>0?e.totalAccurateHits/e.totalDarts*100:0,l=e.totalDecisions>0?e.totalOptimalDecisions/e.totalDecisions*100:0,i=e.sessions.slice(-5).reverse();return(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(L.A,{className:"size-8 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold",children:"Your Progress"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Track your improvement over time"})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,a.jsx)(m,{className:"p-6 bg-accent/10",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(R.A,{className:"size-8 text-accent"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-muted-foreground",children:"Fewest Darts"}),(0,a.jsx)("div",{className:"text-3xl font-bold",children:e.personalBests.fewestDarts??"-"})]})]})}),(0,a.jsx)(m,{className:"p-6 bg-primary/10",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(D.A,{className:"size-8 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-muted-foreground",children:"Best Accuracy"}),(0,a.jsx)("div",{className:"text-3xl font-bold",children:null!==e.personalBests.bestAccuracy?`${e.personalBests.bestAccuracy.toFixed(1)}%`:"-"})]})]})}),(0,a.jsx)(m,{className:"p-6 bg-chart-2/10",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)($.A,{className:"size-8 text-chart-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-muted-foreground",children:"Best Decisions"}),(0,a.jsx)("div",{className:"text-3xl font-bold",children:null!==e.personalBests.bestDecisionRate?`${e.personalBests.bestDecisionRate.toFixed(1)}%`:"-"})]})]})})]}),(0,a.jsxs)(m,{className:"p-6",children:[(0,a.jsx)("h3",{className:"font-semibold mb-4",children:"Overall Statistics"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Win Rate"}),(0,a.jsxs)("span",{className:"text-sm font-bold",children:[s.toFixed(1),"%"]})]}),(0,a.jsx)(A,{value:s,className:"h-2"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[e.totalWins," "," wins out of "," ",e.totalGames," "," games"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Overall Accuracy"}),(0,a.jsxs)("span",{className:"text-sm font-bold",children:[r.toFixed(1),"%"]})]}),(0,a.jsx)(A,{value:r,className:"h-2"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[e.totalAccurateHits," "," hits out of "," ",e.totalDarts," "," darts"]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Decision Quality"}),(0,a.jsxs)("span",{className:"text-sm font-bold",children:[l.toFixed(1),"%"]})]}),(0,a.jsx)(A,{value:l,className:"h-2"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[e.totalOptimalDecisions," "," optimal out of "," ",e.totalDecisions]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[(0,a.jsx)(M.A,{className:"size-5 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Total Games Played"}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.totalGames})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-primary/10",children:[(0,a.jsx)(D.A,{className:"size-5 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Games with 3 Darts"}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.gamesWith3Darts||0}),e.currentStreak>0&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Current streak: "," ",e.currentStreak]})]})]})]})]})]}),e.sessions.length>=10&&(0,a.jsxs)(m,{className:"p-6",children:[(0,a.jsx)("h3",{className:"font-semibold mb-4",children:"Recent Trends (Last 20 Games)"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-muted/50",children:[t.accuracyTrend>=0?(0,a.jsx)(B.A,{className:"size-6 text-accent"}):(0,a.jsx)(C.A,{className:"size-6 text-destructive"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Accuracy Trend"}),(0,a.jsxs)("div",{className:"text-xl font-bold",children:[t.accuracyTrend>=0?"+":"",t.accuracyTrend.toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-muted/50",children:[t.decisionTrend>=0?(0,a.jsx)(B.A,{className:"size-6 text-accent"}):(0,a.jsx)(C.A,{className:"size-6 text-destructive"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Decision Trend"}),(0,a.jsxs)("div",{className:"text-xl font-bold",children:[t.decisionTrend>=0?"+":"",t.decisionTrend.toFixed(1),"%"]})]})]})]}),t.isImproving&&(0,a.jsxs)("p",{className:"text-sm text-accent mt-4 flex items-center gap-2",children:[(0,a.jsx)(B.A,{className:"size-4"}),"You're improving! Keep practicing to maintain this trend."]})]}),i.length>0&&(0,a.jsxs)(m,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(O.A,{className:"size-5 text-muted-foreground"}),(0,a.jsx)("h3",{className:"font-semibold",children:"Recent Sessions"})]}),(0,a.jsx)("div",{className:"flex flex-col gap-2",children:i.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(T,{variant:e.completed?"default":"secondary",children:e.completed?"Won":"Bust"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-sm font-medium",children:["Score:"," ",e.startingScore]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-sm font-semibold",children:[e.dartsThrown," "," darts"]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.accuracy.toFixed(0),"% ","acc"]})]})]},e.id))})]}),0===e.totalGames&&(0,a.jsxs)(m,{className:"p-8 text-center",children:[(0,a.jsx)(M.A,{className:"size-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No Games Yet"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Start playing to track your progress and improvement over time!"})]})]})}var Y=s(460),P=s(9486);function J({className:e,...t}){return(0,a.jsx)(P.b,{"data-slot":"label",className:d("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var X=s(6415);function Z({className:e,defaultValue:t,value:s,min:l=0,max:i=100,...n}){let o=r.useMemo(()=>Array.isArray(s)?s:Array.isArray(t)?t:[l,i],[s,t,l,i]);return(0,a.jsxs)(X.bL,{"data-slot":"slider",defaultValue:t,value:s,min:l,max:i,className:d("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...n,children:[(0,a.jsx)(X.CC,{"data-slot":"slider-track",className:"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5",children:(0,a.jsx)(X.Q6,{"data-slot":"slider-range",className:"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})}),Array.from({length:o.length},(e,t)=>(0,a.jsx)(X.zi,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}var Q=s(4546),q=s(6088),K=s(4514),ee=s(9921);function et({...e}){return(0,a.jsx)(Q.bL,{"data-slot":"select",...e})}function es({...e}){return(0,a.jsx)(Q.WT,{"data-slot":"select-value",...e})}function ea({className:e,size:t="default",children:s,...r}){return(0,a.jsxs)(Q.l9,{"data-slot":"select-trigger","data-size":t,className:d("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[s,(0,a.jsx)(Q.In,{asChild:!0,children:(0,a.jsx)(q.A,{className:"size-4 opacity-50"})})]})}function er({className:e,children:t,position:s="popper",...r}){return(0,a.jsx)(Q.ZL,{children:(0,a.jsxs)(Q.UC,{"data-slot":"select-content",className:d("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[(0,a.jsx)(ei,{}),(0,a.jsx)(Q.LM,{className:d("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(en,{})]})})}function el({className:e,children:t,...s}){return(0,a.jsxs)(Q.q7,{"data-slot":"select-item",className:d("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...s,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(Q.VF,{children:(0,a.jsx)(K.A,{className:"size-4"})})}),(0,a.jsx)(Q.p4,{children:t})]})}function ei({className:e,...t}){return(0,a.jsx)(Q.PP,{"data-slot":"select-scroll-up-button",className:d("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(ee.A,{className:"size-4"})})}function en({className:e,...t}){return(0,a.jsx)(Q.wn,{"data-slot":"select-scroll-down-button",className:d("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(q.A,{className:"size-4"})})}var eo=s(6999),ed=s(1900);function ec({onSettingsChange:e}){let{theme:t,setTheme:s,resolvedTheme:l}=(0,Y.D)(),[i,n]=(0,r.useState)({triple:65,double:65,single:85,dartboardSize:100,difficulty:"medium",tripleInnerRadius:80,tripleOuterRadius:95}),[o,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{d(!0),n(E())},[]);let c=l||t||"dark",x=(t,s)=>{let a={...i,[t]:s};n(a),W(a),e?.(a)};return o?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(m,{className:"p-3 bg-card/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(J,{className:"text-xs font-medium flex items-center gap-2",children:["dark"===c?(0,a.jsx)(eo.A,{className:"size-3.5"}):(0,a.jsx)(ed.A,{className:"size-3.5"}),"Theme"]}),(0,a.jsx)(u,{onClick:()=>{"dark"===c?s("light"):s("dark")},variant:"outline",size:"sm",className:"text-xs h-7",children:"dark"===c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ed.A,{className:"size-3 mr-1"}),"Light"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eo.A,{className:"size-3 mr-1"}),"Dark"]})})]})}),(0,a.jsx)(m,{className:"p-3 bg-card/50",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(J,{htmlFor:"difficulty-select",className:"text-xs font-medium",children:"Difficulty"}),(0,a.jsxs)(et,{value:i.difficulty,onValueChange:t=>{let s={...i,difficulty:t};n(s),W(s),e?.(s)},children:[(0,a.jsx)(ea,{id:"difficulty-select",size:"sm",className:"w-full text-xs h-8",children:(0,a.jsx)(es,{})}),(0,a.jsxs)(er,{children:[(0,a.jsx)(el,{value:"easy",children:"Easy (1-40)"}),(0,a.jsx)(el,{value:"medium",children:"Medium (40-120)"}),(0,a.jsx)(el,{value:"hard",children:"Hard (120-170)"}),(0,a.jsx)(el,{value:"random",children:"Random (1-170)"})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Only scores finishable with 3 darts will be generated"})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"size-3.5"}),"Hit Ratio Settings"]}),(0,a.jsx)(u,{onClick:()=>{let t={triple:65,double:65,single:85,dartboardSize:100,difficulty:"medium",tripleInnerRadius:80,tripleOuterRadius:95};n(t),W(t),e?.(t)},variant:"ghost",size:"sm",className:"text-xs h-7",children:"Reset"})]}),(0,a.jsxs)(m,{className:"p-3 space-y-4 bg-card/50",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(J,{htmlFor:"size-slider",className:"text-xs font-medium",children:"Dartboard Size"}),(0,a.jsxs)("span",{className:"text-xs font-semibold text-muted-foreground",children:[i.dartboardSize,"%"]})]}),(0,a.jsx)(Z,{id:"size-slider",min:60,max:150,step:10,value:[i.dartboardSize],onValueChange:e=>x("dartboardSize",e[0]),className:"w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(J,{htmlFor:"triple-slider",className:"text-xs font-medium",children:"Triple"}),(0,a.jsxs)("span",{className:"text-xs font-semibold text-muted-foreground",children:[i.triple,"%"]})]}),(0,a.jsx)(Z,{id:"triple-slider",min:10,max:100,step:5,value:[i.triple],onValueChange:e=>x("triple",e[0]),className:"w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(J,{htmlFor:"double-slider",className:"text-xs font-medium",children:"Double"}),(0,a.jsxs)("span",{className:"text-xs font-semibold text-muted-foreground",children:[i.double,"%"]})]}),(0,a.jsx)(Z,{id:"double-slider",min:10,max:100,step:5,value:[i.double],onValueChange:e=>x("double",e[0]),className:"w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(J,{htmlFor:"single-slider",className:"text-xs font-medium",children:"Single"}),(0,a.jsxs)("span",{className:"text-xs font-semibold text-muted-foreground",children:[i.single,"%"]})]}),(0,a.jsx)(Z,{id:"single-slider",min:10,max:100,step:5,value:[i.single],onValueChange:e=>x("single",e[0]),className:"w-full"})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"size-3.5"}),"Triple Ring Size"]})}),(0,a.jsxs)(m,{className:"p-3 space-y-4 bg-card/50",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(J,{htmlFor:"triple-inner-radius-slider",className:"text-xs font-medium",children:"Triple Inner Radius"}),(0,a.jsx)("span",{className:"text-xs font-semibold text-muted-foreground",children:i.tripleInnerRadius})]}),(0,a.jsx)(Z,{id:"triple-inner-radius-slider",min:50,max:90,step:1,value:[i.tripleInnerRadius],onValueChange:e=>x("tripleInnerRadius",e[0]),className:"w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(J,{htmlFor:"triple-outer-radius-slider",className:"text-xs font-medium",children:"Triple Outer Radius"}),(0,a.jsx)("span",{className:"text-xs font-semibold text-muted-foreground",children:i.tripleOuterRadius})]}),(0,a.jsx)(Z,{id:"triple-outer-radius-slider",min:90,max:130,step:1,value:[i.tripleOuterRadius],onValueChange:e=>x("tripleOuterRadius",e[0]),className:"w-full"})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Adjust dartboard size and hit ratios to match your skill level or practice at different difficulties."})]}):null}var eu=s(2651),em=s(2791);function ex({sessions:e}){return 0===e.length?(0,a.jsx)(m,{className:"bg-card/50",children:(0,a.jsxs)(x,{className:"p-3 pb-2",children:[(0,a.jsx)(h,{className:"text-sm",children:"Game History"}),(0,a.jsx)(f,{className:"text-xs",children:"No games played yet"})]})}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium",children:"Game History"}),(0,a.jsx)("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:e.map(e=>{let t,s,r;return(0,a.jsx)(m,{className:"bg-card/50",children:(0,a.jsx)(p,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[e.completed?(0,a.jsx)(eu.A,{className:"size-3.5 text-green-500 shrink-0"}):(0,a.jsx)(em.A,{className:"size-3.5 text-red-500 shrink-0"}),(0,a.jsxs)("span",{className:"text-xs font-medium",children:[e.completed?"Finished":"Bust"," ",e.startingScore]})]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(D.A,{className:"size-3 shrink-0"}),(0,a.jsxs)("span",{children:[e.dartsThrown," darts"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(B.A,{className:"size-3 shrink-0"}),(0,a.jsxs)("span",{children:[e.accuracy.toFixed(1),"% accuracy"]})]})]})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground text-right shrink-0",children:(t=new Date(e.timestamp),((r=new Date(s=new Date)).setDate(r.getDate()-1),t.toDateString()===s.toDateString())?`Today ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:t.toDateString()===r.toDateString()?`Yesterday ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:t.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]})})},e.id)})})]})}function eh(e){let t={170:[["T20","T20","D25"]],167:[["T20","T19","D25"]],164:[["T20","T18","D25"]],161:[["T20","T17","D25"]],160:[["T20","T20","D20"]],157:[["T20","T19","D20"]],154:[["T20","T18","D20"]],151:[["T20","T17","D20"]],150:[["T20","T18","D18"]],147:[["T20","T17","D18"]],144:[["T20","T20","D12"]],141:[["T20","T19","D12"]],138:[["T20","T18","D12"]],135:[["T20","T15","D15"]],132:[["T20","T16","D12"]],131:[["T20","T13","D16"]],130:[["T20","T18","D8"]],129:[["T19","T16","D12"]],128:[["T18","T14","D16"]],127:[["T20","T17","D8"]],126:[["T19","T19","D6"]],125:[["T18","T13","D16"]],124:[["T20","T14","D11"]],123:[["T19","T16","D9"]],122:[["T18","T18","D7"]],121:[["T20","T11","D14"]],120:[["T20","S20","D20"]],110:[["T20","D25"]],107:[["T19","D25"]],104:[["T18","D25"]],101:[["T17","D25"]],100:[["T20","D20"]],97:[["T19","D20"]],94:[["T18","D20"]],91:[["T17","D20"]],90:[["T18","D18"]],87:[["T17","D18"]],84:[["T20","D12"]],81:[["T19","D12"]],78:[["T18","D12"]],75:[["T15","D15"]],72:[["T16","D12"]],71:[["T13","D16"]],70:[["T18","D8"]],69:[["T19","D6"]],68:[["T20","D4"]],67:[["T17","D8"]],66:[["T10","D18"]],65:[["T11","D16"]],64:[["T16","D8"]],63:[["T13","D12"]],62:[["T10","D16"]],61:[["T15","D8"]],60:[["S20","D20"]],57:[["S17","D20"]],56:[["T16","D4"]],55:[["S15","D20"]],54:[["S14","D20"]],53:[["S13","D20"]],52:[["S12","D20"]],51:[["S11","D20"]],50:[["D25"]],48:[["S16","D16"]],46:[["S6","D20"]],44:[["S12","D16"]],42:[["S10","D16"]],40:[["D20"]],38:[["D19"]],36:[["D18"]],34:[["D17"]],32:[["D16"]],30:[["D15"]],28:[["D14"]],26:[["D13"]],24:[["D12"]],22:[["D11"]],20:[["D10"]],18:[["D9"]],16:[["D8"]],14:[["D7"]],12:[["D6"]],10:[["D5"]],8:[["D4"]],6:[["D3"]],4:[["D2"]],2:[["D1"]]}[e];return t?t.map(e=>e.map(e=>{let t=e.charAt(0),s=e.slice(1);if("D25"===e)return{zone:"BULL",number:50,label:"Bull",value:50};let a=Number.parseInt(s);return{zone:t,number:a,label:e,value:"T"===t?3*a:"D"===t?2*a:a}})):[]}var ef=s(9199),ep=s(538),eg=s(9857),ev=s(9363),eb=s(1639),ej=s(3210);function eN({...e}){return(0,a.jsx)(eb.bL,{"data-slot":"sheet",...e})}function ey({...e}){return(0,a.jsx)(eb.l9,{"data-slot":"sheet-trigger",...e})}function eD({...e}){return(0,a.jsx)(eb.ZL,{"data-slot":"sheet-portal",...e})}function ew({className:e,...t}){return(0,a.jsx)(eb.hJ,{"data-slot":"sheet-overlay",className:d("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function ez({className:e,children:t,side:s="right",...r}){return(0,a.jsxs)(eD,{children:[(0,a.jsx)(ew,{}),(0,a.jsxs)(eb.UC,{"data-slot":"sheet-content",className:d("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===s&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-0 h-full w-full","left"===s&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-0 h-full w-full","top"===s&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-0 h-full w-full","bottom"===s&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-0 h-full w-full",e),...r,children:[t,(0,a.jsxs)(eb.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,a.jsx)(ej.A,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function eT({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"sheet-header",className:d("flex flex-col gap-1.5 p-4",e),...t})}function eS({className:e,...t}){return(0,a.jsx)(eb.hE,{"data-slot":"sheet-title",className:d("text-foreground font-semibold",e),...t})}function ek({className:e,...t}){return(0,a.jsx)(eb.VY,{"data-slot":"sheet-description",className:d("text-muted-foreground text-sm",e),...t})}function eA({...e}){return(0,a.jsx)(eb.bL,{"data-slot":"dialog",...e})}function eL({...e}){return(0,a.jsx)(eb.ZL,{"data-slot":"dialog-portal",...e})}function eR({className:e,...t}){return(0,a.jsx)(eb.hJ,{"data-slot":"dialog-overlay",className:d("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",e),...t})}function e$({className:e,children:t,showCloseButton:s=!0,...r}){return(0,a.jsxs)(eL,{"data-slot":"dialog-portal",children:[(0,a.jsx)(eR,{}),(0,a.jsxs)(eb.UC,{"data-slot":"dialog-content",className:d("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,s&&(0,a.jsxs)(eb.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(ej.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function eM({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-header",className:d("flex flex-col gap-2 text-center sm:text-left",e),...t})}function eB({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:d("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function eC({className:e,...t}){return(0,a.jsx)(eb.hE,{"data-slot":"dialog-title",className:d("text-lg leading-none font-semibold",e),...t})}function eO({className:e,...t}){return(0,a.jsx)(eb.VY,{"data-slot":"dialog-description",className:d("text-muted-foreground text-sm",e),...t})}var e_=s(6609);function eF(){let[e,t]=(0,r.useState)(170),[s,l]=(0,r.useState)(170),[i,n]=(0,r.useState)(170),[o,d]=(0,r.useState)(0),[c,m]=(0,r.useState)([]),[x,h]=(0,r.useState)("playing"),[f,p]=(0,r.useState)([]),[g,b]=(0,r.useState)(null),[N,D]=(0,r.useState)(!1),[z,T]=(0,r.useState)(!1),[k,A]=(0,r.useState)(null),[R,$]=(0,r.useState)(E()),[B,C]=(0,r.useState)("menu"),[O,F]=(0,r.useState)({accurateHits:0,totalDarts:0,optimalDecisions:0,totalDecisions:0}),[W,H]=(0,r.useState)(null);(0,r.useEffect)(()=>{b(U());let e=E();$(e);let s=j(e.difficulty);t(s),l(s),n(s)},[]);let G=(t,s)=>{var a;let r,l,i=O.totalDarts>0?O.accurateHits/O.totalDarts*100:0,n=O.totalDecisions>0?O.optimalDecisions/O.totalDecisions*100:0;a={id:Date.now().toString(),timestamp:Date.now(),startingScore:e,dartsThrown:t,completed:s,accuracy:i,optimalDecisionRate:n},(r=U()).sessions.push(a),r.totalGames+=1,a.completed&&(r.totalWins+=1,(null===r.personalBests.fewestDarts||a.dartsThrown<r.personalBests.fewestDarts)&&(r.personalBests.fewestDarts=a.dartsThrown)),(null===r.personalBests.bestAccuracy||a.accuracy>r.personalBests.bestAccuracy)&&(r.personalBests.bestAccuracy=a.accuracy),(null===r.personalBests.bestDecisionRate||a.optimalDecisionRate>r.personalBests.bestDecisionRate)&&(r.personalBests.bestDecisionRate=a.optimalDecisionRate),I(r),l=U(),s&&3===t&&(l.gamesWith3Darts+=1),s&&t<=3?l.currentStreak+=1:l.currentStreak=0,I(l),b(U())},Y=()=>{D(!1),T(!1);let e=j(R.difficulty);t(e),l(e),n(e),d(0),m([]),h("playing"),p([]),H(null),A(null),F({accurateHits:0,totalDarts:0,optimalDecisions:0,totalDecisions:0})};return O.totalDarts>0&&(O.accurateHits,O.totalDarts),g&&g.totalWins>0&&(g.totalDarts,g.totalWins),(0,a.jsx)("div",{className:"min-h-screen bg-background",children:(0,a.jsxs)("div",{className:"container mx-auto p-2 sm:p-3 max-w-7xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(u,{onClick:Y,variant:"outline",size:"sm",className:"text-xs sm:text-sm bg-transparent",children:[(0,a.jsx)(ef.A,{className:"size-3 sm:size-4 mr-1 sm:mr-2"}),"New Game"]}),(0,a.jsx)(u,{variant:"outline",size:"sm",className:"text-xs sm:text-sm bg-transparent",onClick:()=>{D(!0),C("history"),b(U())},children:(0,a.jsx)(ep.A,{className:"size-3 sm:size-4"})})]}),g&&g.currentStreak>0&&(0,a.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md bg-primary/10 border border-primary/20",children:[(0,a.jsx)(M.A,{className:"size-3 sm:size-4 text-primary"}),(0,a.jsxs)("span",{className:"text-xs sm:text-sm font-semibold text-primary",children:[g.currentStreak,"x"]})]}),(0,a.jsxs)(eN,{open:N,onOpenChange:e=>{if(D(e),e){let e;(e=U()).currentStreak=0,I(e),b(U())}},children:[(0,a.jsx)(ey,{asChild:!0,children:(0,a.jsxs)(u,{variant:"outline",size:"sm",className:"text-xs sm:text-sm bg-transparent",children:[(0,a.jsx)(eg.A,{className:"size-3 sm:size-4 mr-1 sm:mr-2"}),"Menu"]})}),(0,a.jsxs)(ez,{className:"p-3 flex flex-col overflow-hidden",children:[(0,a.jsxs)(eT,{children:[(0,a.jsx)(eS,{className:"text-base",children:"Menu"}),(0,a.jsx)(ek,{className:"text-xs",children:"Game controls and options"})]}),(0,a.jsxs)("div",{className:"flex gap-1 mt-4 border-b flex-shrink-0",children:[(0,a.jsxs)(u,{variant:"settings"===B?"default":"ghost",size:"sm",onClick:()=>C("settings"),className:"flex-1 text-xs h-8 rounded-b-none",children:[(0,a.jsx)(ev.A,{className:"size-3 mr-1"}),"Settings"]}),(0,a.jsxs)(u,{variant:"progress"===B?"default":"ghost",size:"sm",onClick:()=>C("progress"),className:"flex-1 text-xs h-8 rounded-b-none",children:[(0,a.jsx)(L.A,{className:"size-3 mr-1"}),"Progress"]}),(0,a.jsxs)(u,{variant:"history"===B?"default":"ghost",size:"sm",onClick:()=>C("history"),className:"flex-1 text-xs h-8 rounded-b-none",children:[(0,a.jsx)(ep.A,{className:"size-3 mr-1"}),"History"]})]}),(0,a.jsxs)("div",{className:"mt-4 overflow-y-auto flex-1 min-h-0",children:["settings"===B&&(0,a.jsx)(ec,{onSettingsChange:$}),"progress"===B&&(0,a.jsxs)("div",{children:[g&&(0,a.jsx)(V,{progress:g}),(0,a.jsx)(u,{onClick:()=>{confirm("Are you sure you want to clear all progress data? This cannot be undone.")&&(localStorage.removeItem(_),b(U()))},variant:"outline",size:"sm",className:"w-full mt-3 bg-transparent text-xs",children:"Clear All Progress"})]}),"history"===B&&g&&(0,a.jsx)(ex,{sessions:g.sessions.slice().reverse()})]})]})]})]}),(0,a.jsx)(eA,{open:z,onOpenChange:T,children:(0,a.jsxs)(e$,{className:"sm:max-w-md",children:[(0,a.jsxs)(eM,{children:[(0,a.jsx)(eC,{className:"flex items-center gap-2",children:"won"===x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M.A,{className:"size-5 text-primary"}),"Checkout Complete!"]}):"Game Over"}),(0,a.jsx)(eO,{children:"won"===x?`You finished ${e} in ${o} darts!`:"You busted or failed to finish on a double."})]}),(()=>{let t=eh("bust"===x&&null!==k?k:e),s=t.length>0?t[0]:null,r=s?s.length:null;if("bust"===x&&null!==k){let e=s?s[s.length-1]:null;if(k<=50&&k%2==0){let e=50===k?{zone:"BULL",number:50,label:"Bull",value:50}:{zone:"D",number:k/2,label:`D${k/2}`,value:k};return(0,a.jsx)("div",{className:"space-y-3 py-4",children:(0,a.jsxs)("div",{className:"rounded-lg border bg-destructive/10 p-4",children:[(0,a.jsx)("div",{className:"mb-2 text-sm font-semibold text-destructive",children:"Last Dart Should Have Been:"}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"rounded-md bg-destructive/20 px-3 py-1.5 text-sm font-medium text-destructive",children:e.label})})]})})}if(e)return(0,a.jsx)("div",{className:"space-y-3 py-4",children:(0,a.jsxs)("div",{className:"rounded-lg border bg-destructive/10 p-4",children:[(0,a.jsx)("div",{className:"mb-2 text-sm font-semibold text-destructive",children:"Last Dart Should Have Been:"}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"rounded-md bg-destructive/20 px-3 py-1.5 text-sm font-medium text-destructive",children:e.label})}),s&&s.length>1&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-destructive/20",children:[(0,a.jsxs)("div",{className:"mb-2 text-xs font-medium text-muted-foreground",children:["Full Optimal Route (",2===r?"2 Dart":3===r?"3 Dart":`${r} Dart`,"):"]}),(0,a.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"rounded-md bg-primary/10 px-2 py-1 text-xs font-medium text-primary",children:e.label}),t<s.length-1&&(0,a.jsx)("span",{className:"text-muted-foreground",children:"→"})]},t))})]})]})})}return s?(0,a.jsx)("div",{className:"space-y-3 py-4",children:(0,a.jsxs)("div",{className:"rounded-lg border bg-muted/50 p-4",children:[(0,a.jsxs)("div",{className:"mb-2 text-sm font-semibold",children:["Optimal Route (",2===r?"2 Dart":3===r?"3 Dart":`${r} Dart`," Finish):"]}),(0,a.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"rounded-md bg-primary/10 px-2 py-1 text-sm font-medium text-primary",children:e.label}),t<s.length-1&&(0,a.jsx)("span",{className:"text-muted-foreground",children:"→"})]},t))})]})}):null})(),(0,a.jsx)(eB,{className:"gap-2 sm:gap-0",children:(0,a.jsx)(u,{onClick:Y,className:"w-full sm:w-auto",children:"New Game"})})]})}),(0,a.jsx)("div",{className:"flex flex-col gap-2",children:(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-2 sm:gap-3",children:[(0,a.jsxs)("div",{className:"lg:col-span-1 flex flex-col gap-2",children:[(0,a.jsx)(w,{currentScore:s,startingScore:e,dartsThrown:o}),(0,a.jsx)(S,{darts:c,dartsThrown:o,hoveredTarget:W})]}),(0,a.jsx)("div",{className:"lg:col-span-2 flex flex-col gap-2 min-w-0",children:(0,a.jsx)(y,{onSelectTarget:e=>{let t;if("playing"!==x)return;H(null),t="T"===e.zone?R.triple:"D"===e.zone?R.double:R.single;let s=function(e,t,s){if("D"===e.zone&&e.value===t||"BULL"===e.zone&&e.value===t)return{aimed:e,hit:e,score:e.value,wasAccurate:!0};let a=s?s/100:.65,r=Math.random();if(r<a)return{aimed:e,hit:e,score:e.value,wasAccurate:!0};if(r<a+.2){if("BULL"===e.zone||"OUTER_BULL"===e.zone)if("BULL"===e.zone)return{aimed:e,hit:{zone:"OUTER_BULL",number:25,label:"25",value:25},score:25,wasAccurate:!1};else{let t=Math.floor(20*Math.random())+1;return{aimed:e,hit:{zone:"S",number:t,label:`S${t}`,value:t},score:t,wasAccurate:!1}}let t=v(e.number),s=t[Math.floor(Math.random()*t.length)],a={zone:e.zone,number:s,label:`${e.zone}${s}`,value:"T"===e.zone?3*s:"D"===e.zone?2*s:s};return{aimed:e,hit:a,score:a.value,wasAccurate:!1}}if(r<a+.2+.1){if("BULL"===e.zone||"OUTER_BULL"===e.zone){let t=Math.floor(20*Math.random())+1;return{aimed:e,hit:{zone:"S",number:t,label:`S${t}`,value:t},score:t,wasAccurate:!1}}if("T"===e.zone){let t=Math.random(),s=v(e.number);if(t<.5){let t={zone:"S",number:e.number,label:`S${e.number}`,value:e.number};return{aimed:e,hit:t,score:t.value,wasAccurate:!1}}if(t<.8){let t=s[Math.floor(Math.random()*s.length)],a={zone:"S",number:t,label:`S${t}`,value:t};return{aimed:e,hit:a,score:a.value,wasAccurate:!1}}{let t=s[Math.floor(Math.random()*s.length)],a={zone:"T",number:t,label:`T${t}`,value:3*t};return{aimed:e,hit:a,score:a.value,wasAccurate:!1}}}let t=["S","T","D"].filter(t=>t!==e.zone),s=t[Math.floor(Math.random()*t.length)],a={zone:s,number:e.number,label:`${s}${e.number}`,value:"T"===s?3*e.number:"D"===s?2*e.number:e.number};return{aimed:e,hit:a,score:a.value,wasAccurate:!1}}if("T"!==e.zone)return{aimed:e,hit:{zone:"S",number:0,label:"Miss",value:0},score:0,wasAccurate:!1};let l=Math.random(),i=v(e.number);if(l<.5){let t={zone:"S",number:e.number,label:`S${e.number}`,value:e.number};return{aimed:e,hit:t,score:t.value,wasAccurate:!1}}if(l<.8){let t=i[Math.floor(Math.random()*i.length)],s={zone:"S",number:t,label:`S${t}`,value:t};return{aimed:e,hit:s,score:s.value,wasAccurate:!1}}{let t=i[Math.floor(Math.random()*i.length)],s={zone:"T",number:t,label:`T${t}`,value:3*t};return{aimed:e,hit:s,score:s.value,wasAccurate:!1}}}(e,i,t),a=i-s.score;s.wasAccurate?e_.oR.success(`You hit ${e.label}!`,{description:`Scored ${s.score} points`}):e_.oR.error(`You missed ${e.label}`,{description:`Hit ${s.hit.label} instead (${s.score} points)`});let r=eh(i).some(t=>t.some(t=>t.label===e.label));F(e=>({accurateHits:s.wasAccurate?e.accurateHits+1:e.accurateHits,totalDarts:e.totalDarts+1,optimalDecisions:r?e.optimalDecisions+1:e.optimalDecisions,totalDecisions:e.totalDecisions+1})),n(a);let c=o+1;if(a<0||1===a){h("bust"),A(i),m(e=>[...e,s]),d(c),p(t=>[...t,e]),l(a),G(c,!1),T(!0);return}if(0===a&&("D"===s.hit.zone||"BULL"===s.hit.zone)){h("won"),m(e=>[...e,s]),d(c),p(t=>[...t,e]),l(0),G(c,!0),T(!0);return}if(0===a&&"D"!==s.hit.zone&&"BULL"!==s.hit.zone){h("bust"),A(i),m(e=>[...e,s]),d(c),p(t=>[...t,e]),l(a),G(c,!1),T(!0);return}c%3==0&&l(a),m(e=>[...e,s]),d(c),p(t=>[...t,e])},onHoverTarget:H,disabled:"playing"!==x,size:R.dartboardSize,tripleInnerRadius:R.tripleInnerRadius,tripleOuterRadius:R.tripleOuterRadius})})]})})]})})}}},e=>{e.O(0,[986,170,441,794,358],()=>e(e.s=162)),_N_E=e.O()}]);